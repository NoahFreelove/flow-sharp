<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ae="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
        x:Class="FlowEditor.Views.MainWindow"
        Title="Flow Editor"
        Width="1100" Height="750"
        MinWidth="600" MinHeight="400">

    <DockPanel>
        <!-- Toolbar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal"
                    Background="#1e1e2e" Height="40">
            <Button Name="NewButton" Content="New" Margin="4" Padding="8,4"
                    VerticalAlignment="Center" />
            <Button Name="OpenButton" Content="Open" Margin="4" Padding="8,4"
                    VerticalAlignment="Center" />
            <Button Name="SaveButton" Content="Save" Margin="4" Padding="8,4"
                    VerticalAlignment="Center" />
            <Border Width="1" Background="#444" Margin="8,6" />
            <Button Name="RunButton" Content="Run" Margin="4" Padding="12,4"
                    VerticalAlignment="Center" Background="#2d8a4e" Foreground="White" />
            <Button Name="StopButton" Content="Stop" Margin="4" Padding="12,4"
                    VerticalAlignment="Center" Background="#c0392b" Foreground="White"
                    IsEnabled="False" />
        </StackPanel>

        <!-- Status bar -->
        <Border DockPanel.Dock="Bottom" Background="#181825" Height="24">
            <StackPanel Orientation="Horizontal" Margin="8,0">
                <TextBlock Name="FileNameLabel" Text="untitled.flow"
                           Foreground="#a6adc8" VerticalAlignment="Center" FontSize="12" />
                <Border Width="1" Background="#444" Margin="12,4" />
                <TextBlock Name="PlaybackStatusLabel" Text="Stopped"
                           Foreground="#a6adc8" VerticalAlignment="Center" FontSize="12" />
                <Border Width="1" Background="#444" Margin="12,4" />
                <TextBlock Name="PlaybackTimeLabel" Text="00:00"
                           Foreground="#a6adc8" VerticalAlignment="Center" FontSize="12" />
                <Border Width="1" Background="#444" Margin="12,4" />
                <TextBlock Name="ContextInfoLabel" Text=""
                           Foreground="#89b4fa" VerticalAlignment="Center" FontSize="12" />
            </StackPanel>
        </Border>

        <!-- Error panel -->
        <Border DockPanel.Dock="Bottom" Background="#11111b" Height="120"
                BorderBrush="#313244" BorderThickness="0,1,0,0">
            <DockPanel>
                <TextBlock DockPanel.Dock="Top" Text="Output" Foreground="#cdd6f4"
                           FontSize="12" Margin="8,4" FontWeight="Bold" />
                <ScrollViewer>
                    <SelectableTextBlock Name="ErrorOutput" Foreground="#f38ba8"
                               FontFamily="Cascadia Code,JetBrains Mono,Consolas,monospace"
                               FontSize="12" Margin="8,2" TextWrapping="Wrap" />
                </ScrollViewer>
            </DockPanel>
        </Border>

        <!-- Code editor (fills remaining space) -->
        <ae:TextEditor Name="CodeEditor"
                       FontFamily="Cascadia Code,JetBrains Mono,Consolas,monospace"
                       FontSize="14"
                       ShowLineNumbers="True"
                       Background="#1e1e2e"
                       Foreground="#cdd6f4" />
    </DockPanel>
</Window>
